#í”ŒëŸ¬í„° #ëª¨ë°”ì¼ê°œë°œ

ìŠ¤í”„ë§ ì„œë²„ ì—°ë™ ì‘ì—…3, 

ì•(í”ŒëŸ¬í„°)<->ë°±(ìŠ¤í”„ë§ë¶€íŠ¸)<->ë ˆìŠ¤íŠ¸ API(í”Œë¼ìŠ¤í¬ ì„œë²„)

ì¤€ë¹„ë¬¼:
1)í”ŒëŸ¬í„°
í™”ë©´ ì œê³µ, http í†µì‹ ì—°ê²°, jwt ì¸ì¦ì´ìš©, 
https://github.com/lsy3709/Flutter_Test_Busanit501

2)ìŠ¤í”„ë§ë¶€íŠ¸
ì‹œíë¦¬í‹° ì„¤ì •, jwt ì¸ì¦, ë§ˆë¦¬ì•„ë””ë¹„ì—°ê²°, JPA(ORM)
https://github.com/lsy3709/Server501_Test/tree/main/SpringBasic/api5012

3)í”Œë¼ìŠ¤í¬(AI ëª¨ë¸ íƒ‘ì¬
ë¶„ë¥˜,
ë™ë¬¼ìƒ(1),íê°€ì „(2),ê³µêµ¬íˆ´(3),í•´ì–‘ë™ë¬¼(4)
https://github.com/lsy3709/ResNet50_Flask_REST_SAMPLE_3

ê²€ì‚¬ëŠ” 
ì—­ìˆœ, 
3) í”Œë¼ìŠ¤í¬, í¬ìŠ¤íŠ¸ë§¨ìœ¼ë¡œ ë™ì‘ ì—¬ë¶€ í™•ì¸. 

ì»¤ë°‹ì˜ ìœ„ì¹˜ë¥¼ ë³€ê²½. 
- ë³‘ë ¬ì„±/ì„±ëŠ¥ì„ ìœ„í•´ ThreadPoolExecutor ë³€ê²½ , ìœ„ì¹˜ë¡œ 
í˜„ì¬ ë¸Œëœì¹˜ë¥¼ ì—¬ê¸°ë¡œ ì¬ì„¤ì •, í•˜ë“œ ì„ íƒ. 
- ì¸í„°í”„ë¦¬í„°, íŒŒì´í† ì¹˜ê°€ ì„¤ì¹˜ê°€ëœ ê°€ìƒí™˜ê²½ ì„ íƒ. 
- flask run ì‹¤í–‰.

í¬ìŠ¤íŠ¸ë§¨ìœ¼ë¡œ ê²€ì‚¬. 

ë™ë¬¼ìƒ
- post ì§€ì •, 
- ì£¼ì†Œ : http://localhost:5000/predict/team1
- Body -> form-data ì„ íƒ, 
- key : image , ê°’ : ë¡œì»¬ì˜ ì´ë¯¸ì§€ë¥¼ ì„ íƒ, 
- send 

íê°€ì „ ë¶„ë¥˜
- post ì§€ì •, 
- ì£¼ì†Œ : http://localhost:5000/predict/team2
- Body -> form-data ì„ íƒ, 
- key : image , ê°’ : ë¡œì»¬ì˜ ì´ë¯¸ì§€ë¥¼ ì„ íƒ, 
- send 

ê³µêµ¬ ë¶„ë¥˜
- post ì§€ì •, 
- ì£¼ì†Œ : http://localhost:5000/predict/team3
- Body -> form-data ì„ íƒ, 
- key : image , ê°’ : ë¡œì»¬ì˜ ì´ë¯¸ì§€ë¥¼ ì„ íƒ, 
- send 

yolov8 ê¸°ë³¸ ì•„ì¿ ë¦¬ì•„ë¦¬ì›€ ëª¨ë¸ ë¶„ë¥˜
- post ì§€ì •, 
- ì£¼ì†Œ : http://localhost:5000/predict/yolo
- Body -> form-data ì„ íƒ, 
- key : image , ê°’ : ë¡œì»¬ì˜ ì´ë¯¸ì§€ë¥¼ ì„ íƒ, 
- send 


2) ìŠ¤í”„ë§ ë¶€íŠ¸ -> í”Œë¼ìŠ¤í¬ ì„œë²„  ë ˆìŠ¤íŠ¸ API ì—°ê²° í™•ì¸. 

í¬ìŠ¤íŠ¸ë§¨ìœ¼ë¡œ ê²€ì‚¬. 
í¬ìŠ¤íŠ¸ë§¨ ->(ì¸ì¦ jwt) ìŠ¤í”„ë§ë¶€íŠ¸ -> í”Œë¼ìŠ¤í¬ ì„œë²„

ë™ë¬¼ìƒ
- post ì§€ì •, 
- ì£¼ì†Œ : http://localhost:8080/api/ai/predict/1
- Body -> form-data ì„ íƒ, 
- key : image , ê°’ : ë¡œì»¬ì˜ ì´ë¯¸ì§€ë¥¼ ì„ íƒ, 
- send 
ì¶”ê°€ ì¸ì¦ 
- 2ë²ˆì§¸ íƒ­ Authorization , Bearer Token, 
ì•¡ì„¸ìŠ¤ í† í° ì…ë ¥. 

ê²°ê³¼ë¥¼ í™•ì¸í•¨. 


ì°¸ê³ , 

ê¸°ëŠ¥ í™•ì¸
ì‹œìŠ¤í…œì´ jwt í† í° ì¸ì¦ í˜•ì‹ìœ¼ë¡œ ë˜ì–´ì„œ, 

ì¸ì¦ í™•ì¸ ë°©ë²•. 

í¬ìŠ¤íŠ¸ë§¨ìœ¼ë¡œ 

ë©”ì†Œë“œ : post 
ì£¼ì†Œ : http://localhost:8080/generateToken
raw -> json í˜•ì‹ìœ¼ë¡œ 
ì˜ˆì‹œ)
{
    "mid" : "lsy",
    "mpw" : "1234"
}
ë””ë¹„ì„œë²„ì— ìœ ì €ê°€ ìˆë‹¤ë©´, ë°”ë¡œ ì•¡ì„¸ìŠ¤ í† í° ì‘ë‹µ ë°›ìœ¼ë©´ ë¨. 
{
    "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJtaWQiOiJsc3kiLCJpYXQiOjE3NDM3Mjc1MzMsImV4cCI6MTc0MzgxMzkzM30.Q0uDAe6Vj_xbeGShOrNb4ZqxsiBNcG3we9HNsFXA2Tk",
    "refreshToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJtaWQiOiJsc3kiLCJpYXQiOjE3NDM3Mjc1MzMsImV4cCI6MTc0NjMxOTUzM30.ind07fYJQNOTaX4Nh0Cy_nJAuKOQDNUC24t6X6fdTi8"
}

2

í¬ìŠ¤íŠ¸ë§¨ìœ¼ë¡œ 

ë©”ì†Œë“œ : post 
ì£¼ì†Œ : http://localhost:8080/member/register
raw -> json í˜•ì‹ìœ¼ë¡œ 

íšŒì› ê°€ì… í•„ìš”í•  ê²½ìš°. 

{
    "mid" :"lsy",
    "mpw" : "1234"
}

1) í”ŒëŸ¬í„° -> ìŠ¤í”„ë§ë¶€íŠ¸ ì—°ê²° í™•ì¸ 

í”ŒëŸ¬í„° ì‘ì—…
(ë©”ì¸ì— ë²„íŠ¼ ì¶”ê°€, ai í…ŒìŠ¤íŠ¸ í™˜ê²½ ê°„ë‹¨í•œ í™”ë©´ êµ¬ì„±, ë¡œì§ì²˜ë¦¬)
í˜„ì¬ ì‘ì—… í´ë” 
1)
main.dart : í”„ë¡œë°”ì´ë” ë“±ë¡ í•˜ëŠ” ê³µê°„, ë©”ì¸ í•¨ìˆ˜, 
2)
my_app_routing.dart : ë¼ìš°íŒ… ì„¤ì •, ì•± ì‹œì‘ì‹œ ì´ˆê¸° í™”ë©´ ì„¤ì •, 
ìŠ¤í”Œë˜ì‰¬ í™”ë©´ì—ì„œ  3ì´ˆ ë¨¸ë¬¼ë‹¤ê°€ -> ë©”ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™
3)
sample_routing ->  todos_test -> screen ai_test -> screen
todos_main_screen.dart : ë©”ì¸í™”ë©´, ë²„íŠ¼ìœ¼ë¡œ ê° í™”ë©´ ì´ë™. 


- ë©”ì¸ì— ë²„íŠ¼ ì¶”ê°€

ì—¬ê¸°ì— ai í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë²„íŠ¼ ì¶”ê°€ í•  ì˜ˆì •. 
ê¸°ì¡´ ì½”ë“œ í™•ì¸. 
... ì¤‘ëµ, 
//ì¶”ê°€í•œ ì½”ë“œë§Œ í‘œê¸°. 
if (loginController.isLoggedIn)
OutlinedButton(
onPressed: () => Navigator.pushNamed(context, '/aiTest'),
child: const Text('ai ì—°ë™ í…ŒìŠ¤íŠ¸'),
),

- í™”ë©´ 
sample_routing -> ai_test -> screen
ai_test_screen.dart 
ë§Œë“¤ì–´ ë‘” íŒŒì¼ ë³µë¶™ í›„, ì½”ë“œ ë¦¬ë·° í•˜ê¸°. 


- ì»¨íŠ¸ë¡¤ëŸ¬ 
sample_routing -> ai_test -> controller
ai_controller.dart 
ë§Œë“¤ì–´ ë‘” íŒŒì¼ ë³µë¶™ í›„, ì½”ë“œ ë¦¬ë·° í•˜ê¸°. 

import 'dart:convert';
import 'dart:io';

import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:http/http.dart' as http;
import 'package:image_picker/image_picker.dart';


class AiImageController extends ChangeNotifier {
  final FlutterSecureStorage secureStorage = const FlutterSecureStorage();
  File? selectedImage; // ì„ íƒí•œ ì´ë¯¸ì§€ íŒŒì¼
  bool isLoading = false; // ë¡œë”© ìƒíƒœ
  Map<String, dynamic>? predictionResult; // ì˜ˆì¸¡ ê²°ê³¼ ì €ì¥
  int selectedModel = 1; // âœ… ê¸°ë³¸ ëª¨ë¸ (ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸)
  File? selectedMedia; // âœ… ì„ íƒí•œ ì´ë¯¸ì§€ ë˜ëŠ” ë™ì˜ìƒ íŒŒì¼

  // âœ… ì €ì¥ëœ `accessToken` ê°€ì ¸ì˜¤ê¸°
  Future<String?> getAccessToken() async {
    return await secureStorage.read(key: "accessToken");
  }

  // âœ… ëª¨ë¸ ì„ íƒ ë³€ê²½
  void setModel(int model) {
    selectedModel = model;

    // âœ… YOLOv8 ì´ë¯¸ì§€ í…ŒìŠ¤íŠ¸ì¼ ê²½ìš°ì—ë§Œ ì†Œì¼“ ì¬ì—°ê²°
    if (selectedModel == 4 || selectedModel == 5) {

    } else {

    }

    notifyListeners();
  }

  /// âœ… ê°¤ëŸ¬ë¦¬ ë˜ëŠ” ì¹´ë©”ë¼ì—ì„œ ì´ë¯¸ì§€ ë˜ëŠ” ë™ì˜ìƒ ì„ íƒ
  Future<void> pickMedia(ImageSource source, {bool isVideo = false}) async {

    final pickedFile = isVideo
        ? await ImagePicker().pickVideo(source: source)
        : await ImagePicker().pickImage(source: source);

    if (pickedFile == null) return;

    if (isVideo) {
      selectedMedia = File(pickedFile.path);
      // selectedImage = null; // âœ… ë™ì˜ìƒ ì„ íƒ ì‹œ ì´ë¯¸ì§€ ì´ˆê¸°í™”
    } else {
      selectedImage = File(pickedFile.path);
      selectedMedia = File(pickedFile.path);
      // selectedMedia = null; // âœ… ì´ë¯¸ì§€ ì„ íƒ ì‹œ ë™ì˜ìƒ ì´ˆê¸°í™”
    }

    notifyListeners();
  }

  // âœ… ì„œë²„ë¡œ ì´ë¯¸ì§€ ë˜ëŠ” ë™ì˜ìƒ ì—…ë¡œë“œ ë° ì˜ˆì¸¡ ìš”ì²­
  Future<void> uploadMedia(BuildContext context) async {
    // _connectToSocket();
    if (selectedMedia == null) {
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(content: Text("íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”!")),
      );
      return;
    }

    isLoading = true;
    notifyListeners();

    String? accessToken = await getAccessToken(); // ğŸ”¹ í† í° ê°€ì ¸ì˜¤ê¸°
    if (accessToken == null) {
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(content: Text("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")),
      );
      isLoading = false;
      notifyListeners();
      return;
    }

    try {
      int apiModel = (selectedModel == 5) ? 4 :selectedModel;
      // âœ… ì„ íƒí•œ ëª¨ë¸ì— ë”°ë¼ ì„œë²„ API ì£¼ì†Œ ë³€ê²½
      // String apiUrl = "http://192.168.219.103:8080/api/ai/predict/$apiModel";
      String apiUrl = "http://10.100.201.87:8080/api/ai/predict/$apiModel";

      var request = http.MultipartRequest(
        "POST",
        Uri.parse(apiUrl),
      );
      request.headers["Authorization"] = "Bearer $accessToken"; // âœ… í† í° ì¶”ê°€

      request.files.add(
        // await http.MultipartFile.fromPath(isVideo ? "video" : "image", selectedMedia!.path),
        await http.MultipartFile.fromPath("image", selectedMedia!.path),
      );

      var response = await request.send();
      var responseBody = await response.stream.bytesToString();

      print("ğŸ“© ì„œë²„ ì‘ë‹µ ì½”ë“œ: ${response.statusCode}");
      print("ğŸ“© ì„œë²„ ì‘ë‹µ ë³¸ë¬¸: $responseBody");

      try {
        var jsonResponse = json.decode(responseBody);

        if (response.statusCode == 200) {
          print("âœ… ì„œë²„ ì‘ë‹µ ì •ìƒ ìˆ˜ì‹ !");
          predictionResult = jsonResponse;


        } else {
          print("âŒ ì„œë²„ ì˜¤ë¥˜: ${jsonResponse['error']}");
          throw Exception("ì„œë²„ ì˜¤ë¥˜: ${jsonResponse['error']}");
        }
      } catch (e) {
        print("âŒ JSON íŒŒì‹± ì˜¤ë¥˜: $e");
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(content: Text("ì˜ˆì¸¡ ì‹¤íŒ¨: ì‘ë‹µ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ! $e")),
        );
      }
    } catch (e) {
      String errorMessage = e.toString().contains("server")
          ? "ì„œë²„ ì˜¤ë¥˜ ë°œìƒ! ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”."
          : "ì˜ˆì¸¡ ì‹¤íŒ¨: $e";

      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(content: Text(errorMessage)),
      );

      print("âŒ ì˜¤ë¥˜ ë°œìƒ: $errorMessage");
    }

    isLoading = false;
    notifyListeners();
  }

}



- í”„ë¡œë°”ì´ë” ë©”ì¸ì— ë“±ë¡, 

void main() {
  // runApp(MyApp());
  // í”„ë¡œë°”ì´ë” ë“±ë¡ ì‘ì—…,
  // runApp(MyAppRouting());
  runApp(
    MultiProvider(
        providers: [
          ...
          ChangeNotifierProvider(create: (context) => AiImageController())
        ],
    child: const MyAppRouting(),)
  );
}


- ë¼ìš°íŒ… ì‘ì—…, 
class MyAppRouting extends StatelessWidget {
  const MyAppRouting({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      // ì‹œì‘ í•˜ëŠ” í™”ë©´ì„, ìŠ¤í”Œë˜ì‰¬ í™”ë©´ìœ¼ë¡œ êµì²´,
      home: const MySplashScreen2(),
      //ë¼ìš°íŒ… ì¤€ë¹„ë¬¼ 1,
      routes: {
        ...
        '/aiTest': (context) => AiImageScreen(),

      },
    );
  }
}

- í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜, pubspec.yaml ë“±ë¡. 
ì˜ˆì‹œ)
dependencies:
  flutter:
    sdk: flutter

  cupertino_icons: ^1.0.8
#  ì‚¬ìš©í•  ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€.
  provider: ^6.0.5
  http: ^0.13.6
  dio: ^5.8.0+1
  flutter_secure_storage: ^9.2.4 # í”ŒëŸ¬í„°ì˜ ë‚´ë¶€ ì €ì¥ì†Œ(ì•ˆì „í•œ ë²„ì „)
  image_picker: ^1.0.4 # ì´ë¯¸ì§€ ì„ íƒ ë„êµ¬ 
  url_launcher: ^6.3.1
ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜. 
url_launcher: ^6.3.1

ì˜¤ë¥¸ìª½ ìƒëœ Pub get ì ìš©í•˜ê¸°. 


- ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° í™”ë©´ ë¶€ë¶„ ì¶”ê°€. 
sample_routing -> ai_test -> screen

ai_preview_screen.dart 


import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:provider/provider.dart';

import '../controller/todos_login_controller.dart';

class TodosMainScreen extends StatefulWidget {
  const TodosMainScreen({super.key});

  @override
  State<TodosMainScreen> createState() => _TodosMainScreenState();
}

class _TodosMainScreenState extends State<TodosMainScreen> {
  // í”ŒëŸ¬í„° ì „ìš©ì˜ ì €ì¥ì†Œì— ì ‘ê·¼ í•˜ëŠ” ë„êµ¬, ê°€ì ¸ì˜¤ê¸°, ì„¤ì •í•˜ê¸°.
  final FlutterSecureStorage secureStorage = const FlutterSecureStorage();
  String? userId;

  // ìµœì´ˆì— í™”ë©´ì„ ê·¸ë¦´ ë•Œ ë™ì‘í•¨.
  @override
  void initState() {
    super.initState();
    _loadUserId();
  }

  // í™”ë©´ì´ ë³€ê²½ì‹œ ë§ˆë‹¤ í˜¸ì¶œ.
  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    _loadUserId(); // ë¡œê·¸ì•„ì›ƒ í›„ ë‹¤ì‹œ í™”ë©´ ì—´ë¦´ ë•Œ í˜¸ì¶œë¨
  }


  // ë³´ì•ˆ ì €ì¥ì†Œì—ì„œ ë¡œê·¸ì¸í•œ ìœ ì € ID ë¶ˆëŸ¬ì˜¤ê¸°
  Future<void> _loadUserId() async {
    String? mid = await secureStorage.read(key: "mid"); // ì €ì¥ëœ ID ê°€ì ¸ì˜¤ê¸°
    // ë¦¬ì•¡íŠ¸ ë¹„ìŠ·í•œ êµ¬ì¡°ì´ê³ , ìŠ¤í…Œì´íŠ¸ ìƒíƒœê°€ ë³€ê²½ì´ ë˜ë©´, í™”ë©´ë„ ê°™ì´ ì—…ë°ì´íŠ¸
    setState(() {
      userId = mid;
    });
  }

  @override
  Widget build(BuildContext context) {
    final loginController = context.watch<LoginController>();

    return Scaffold(
      appBar: AppBar(title: const Text('ë©”ì¸ í™”ë©´'),
          actions: [
            // ë¡œê·¸ì¸ ìƒíƒœì¼ ë•Œë§Œ ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ í‘œì‹œ
            if (loginController.isLoggedIn)
              IconButton(
                icon: const Icon(Icons.logout),
                onPressed: () => loginController.showLogoutDialog(context),
              ),
          ]
      ),

      body: SafeArea(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Center(
              child: Text(
                userId != null ? "í™˜ì˜í•©ë‹ˆë‹¤, $userIdë‹˜!" : "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                style: const TextStyle(fontSize: 24, fontWeight: FontWeight.bold),
                textAlign: TextAlign.center,
              ),
            ),
            const Center(child: FlutterLogo(size: 100)),
            const SizedBox(height: 20),
            if (!loginController.isLoggedIn)
            ElevatedButton(
              //ë¼ìš°íŒ… 2ë²ˆ ì§¸ ì¤€ë¹„ë¬¼,
              onPressed: () => Navigator.pushNamed(context, '/signup'),
              child: const Text('íšŒì› ê°€ì…'),
            ),

            if (!loginController.isLoggedIn)
            OutlinedButton(
              onPressed: () => Navigator.pushNamed(context, '/login'),
              child: const Text('ë¡œê·¸ì¸'),
            ),

            if (loginController.isLoggedIn)
            OutlinedButton(
              onPressed: () => Navigator.pushNamed(context, '/pdtest1'),
              child: const Text('ê³µê³µë°ì´í„° ì—°ë™1'),
            ),
            if (loginController.isLoggedIn)
              OutlinedButton(
                onPressed: () => Navigator.pushNamed(context, '/todos'),
                child: const Text('todos ì—°ë™ ë¦¬ìŠ¤íŠ¸'),
              ),
            if (loginController.isLoggedIn)
              OutlinedButton(
                onPressed: () => Navigator.pushNamed(context, '/aiTest'),
                child: const Text('ai ì—°ë™ í…ŒìŠ¤íŠ¸'),
              ),

          ],
        ),
      ),
    );

  }
}

ì£¼ì˜ì‚¬í•­, 
1
ì—ë®¬ë ˆì´í„°ë¡œ í…ŒìŠ¤íŠ¸ì‹œ ìƒê´€ ì—†ìŒ. 
ì£¼ì˜ì‚¬í•­, 
ì ‘ê·¼ ì•„ì´í”¼: localhost-> 10.0.2.2 ë¡œ ë³€ê²½. 

2
ì‹¤ë¬¼ ê¸°ê¸°ë¡œ , í”Œë¼ìŠ¤í¬ ì„œë²„ì˜ ë‚´ë¶€ì˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì €ì¥ì†Œ ì ‘ê·¼ì‹œ, 
í”Œë¼ìŠ¤í¬ ì„œë²„ë¥¼ ì‹¤í–‰ì‹œ, 
ë‹¨ìˆœ : flask run ì‹¤í–‰. 
í—ˆìš© ê°€ëŠ¥í•œ ì•„ì´í”¼ : http://127.0.0.1:5000, 
ë¡œì»¬ì—ì„œë§Œ ì ‘ê·¼ì´ í—ˆìš©ì´ ë¨. 

ì‹¤ë¬¼ê¸°ê¸°(ì™€ì´íŒŒì´ IT501 ì ‘ê·¼.  ì•„ì´í”¼ : 
10.100.201.18 

í”Œë¼ìŠ¤í¬ ì„œë²„ ì•„ì´í”¼ : 
10.100.201.87 

ì‹¤í–‰ ëª…ë ¹ì–´ë¥¼ ë³€ê²½. 

ëª¨ë‘ í—ˆìš©. 

flask run --host=0.0.0.0 --port=5000
=============================================

ì¶”ê°€, 
ë””ìì¸ ìƒ˜í”Œ í™•ì¸, 2ê°€ì§€, 

1
ë¼ìš°íŒ…
D:\busanit501_flutter_test\lib\sample_routing\todos_test\screen\todos_main_screen.dart
if (loginController.isLoggedIn)

OutlinedButton(
onPressed: () => Navigator.pushNamed(context, '/design_sample1'),
child: const Text('ë””ìì¸ ìƒ˜í”Œ1 ë„¤ë¹„ê²Œì´ì…˜ ë°˜ì‘í˜•'),
),

2
í™”ë©´, 

D:\busanit501_flutter_test\lib\sample_routing\sample_design\navigation_mode_sample1.dart

import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';

class ResponsiveNavBarPage extends StatelessWidget {
  ResponsiveNavBarPage({Key? key}) : super(key: key);

  final GlobalKey<ScaffoldState> _scaffoldKey = GlobalKey<ScaffoldState>();

  @override
  Widget build(BuildContext context) {
    final width = MediaQuery.of(context).size.width;
    final bool isLargeScreen = width > 800;

    return Theme(
      data: ThemeData.dark(),
      child: Scaffold(
        key: _scaffoldKey,
        appBar: AppBar(
          backgroundColor: Colors.transparent,
          elevation: 0,
          titleSpacing: 0,
          leading: isLargeScreen
              ? null
              : IconButton(
            icon: const Icon(Icons.menu),
            onPressed: () => _scaffoldKey.currentState?.openDrawer(),
          ),
          title: Padding(
            padding: const EdgeInsets.symmetric(horizontal: 16.0),
            child: Row(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                const Text(
                  "Logo",
                  style: TextStyle(
                      color: Colors.green, fontWeight: FontWeight.bold),
                ),
                if (isLargeScreen) Expanded(child: _navBarItems())
              ],
            ),
          ),
          actions: const [
            Padding(
              padding: EdgeInsets.only(right: 16.0),
              child: CircleAvatar(child: _ProfileIcon()),
            )
          ],
        ),
        drawer: isLargeScreen ? null : _drawer(),
        body: const Center(
          child: Text(
            "Body",
          ),
        ),
      ),
    );
  }

  Widget _drawer() => Drawer(
    child: ListView(
      children: _menuItems
          .map((item) => ListTile(
        onTap: () {
          _scaffoldKey.currentState?.openEndDrawer();
        },
        title: Text(item),
      ))
          .toList(),
    ),
  );

  Widget _navBarItems() => Row(
    mainAxisAlignment: MainAxisAlignment.end,
    crossAxisAlignment: CrossAxisAlignment.center,
    children: _menuItems
        .map(
          (item) => InkWell(
        onTap: () {},
        child: Padding(
          padding: const EdgeInsets.symmetric(
              vertical: 24.0, horizontal: 16),
          child: Text(
            item,
            style: const TextStyle(fontSize: 18),
          ),
        ),
      ),
    )
        .toList(),
  );
}

final List<String> _menuItems = <String>[
  'About',
  'Contact',
  'Settings',
  'Sign Out',
];

enum Menu { itemOne, itemTwo, itemThree }

class _ProfileIcon extends StatelessWidget {
  const _ProfileIcon({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return PopupMenuButton<Menu>(
        icon: const Icon(Icons.person),
        offset: const Offset(0, 40),
        onSelected: (Menu item) {},
        itemBuilder: (BuildContext context) => <PopupMenuEntry<Menu>>[
          const PopupMenuItem<Menu>(
            value: Menu.itemOne,
            child: Text('Account'),
          ),
          const PopupMenuItem<Menu>(
            value: Menu.itemTwo,
            child: Text('Settings'),
          ),
          const PopupMenuItem<Menu>(
            value: Menu.itemThree,
            child: Text('Sign Out'),
          ),
        ]);
  }
}

2ë²ˆì§¸, íƒ­ ë ˆì´ì•„ì›ƒ í™”ë©´ ìƒ˜í”Œ. 

1
ë¼ìš°íŒ…. 
'/design_sample2': (context) => MaterialHomePage(),

2
í™”ë©´, 
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';

class MaterialHomePage extends StatefulWidget {
  @override
  _MaterialHomePageState createState() => _MaterialHomePageState();
}

class _MaterialHomePageState extends State<MaterialHomePage> {
  int _selectedIndex = 0;

  static const List<Widget> _pages = <Widget>[
    Center(child: Text('í™ˆ í˜ì´ì§€')),
    Center(child: Text('ê²€ìƒ‰')),
    Center(child: Text('ì„¤ì •')),
  ];

  void _onItemTapped(int index) {
    if (index == 0) {
      // í™ˆ ì•„ì´ì½˜ í´ë¦­ ì‹œ ë¼ìš°íŠ¸ ì „í™˜
      Navigator.pushNamed(context, '/main');
    } else {
      setState(() {
        _selectedIndex = index;
      });
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Material Navigation')),
      body: _pages[_selectedIndex],
      bottomNavigationBar: BottomNavigationBar(
        currentIndex: _selectedIndex,
        selectedItemColor: Colors.deepPurple,
        onTap: _onItemTapped,
        items: const [
          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'í™ˆ'),
          BottomNavigationBarItem(icon: Icon(Icons.search), label: 'ê²€ìƒ‰'),
          BottomNavigationBarItem(icon: Icon(Icons.settings), label: 'ì„¤ì •'),
        ],
      ),
    );
  }
}


ìì£¼ ì‚¬ìš©í•˜ëŠ” ë·° í…œí”Œë¦¿ í˜•ì‹, 
ì´ì¤‘ ë¦¬ìŠ¤íŠ¸, ë¦¬ìŠ¤íŠ¸ ì•ˆì— ë¦¬ìŠ¤íŠ¸ êµ¬ì¡°, 

1
ë¼ìš°íŒ….
'/design_sample3': (context) => Sample3ListOfListView(),

2
ë²„íŠ¼ í™”ë©´. 
if (loginController.isLoggedIn)
OutlinedButton(
onPressed: () => Navigator.pushNamed(context, '/design_sample3'),
child: const Text('ë””ìì¸ ìƒ˜í”Œ3 ë¦¬ìŠ¤íŠ¸ ì•ˆì— ë¦¬ìŠ¤íŠ¸ ë·° í™”ë©´ ìƒ˜í”Œ'),
),

3
ìƒ˜í”Œ í™”ë©´. 
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';

class Sample3ListOfListView extends StatelessWidget {
  const Sample3ListOfListView({super.key});
  ////////////////////////////////////////////
  void _showSnackBar(BuildContext context) {
    final snackBar = SnackBar(
      content: Text('ìŠ¤ë‚µë°”ê°€ í‘œì‹œë˜ì—ˆìŠµë‹ˆë‹¤!!!!!!'),

      // ìŠ¤ë‚µë°” ì•ˆì— í‘œì‹œí•  í…ìŠ¤íŠ¸
      duration: Duration(seconds: 3),

      // ìŠ¤ë‚µë°”ê°€ í™”ë©´ì— í‘œì‹œë˜ëŠ” ì‹œê°„
      backgroundColor: Colors.indigo,

      // ë°°ê²½ìƒ‰ ì§€ì •
      behavior: SnackBarBehavior.fixed,

      // fixed ë˜ëŠ” floating ì„¤ì • ê°€ëŠ¥
      elevation: 6.0,

      // ê·¸ë¦¼ì ê¹Šì´ (ë¶€ìœ  ëŠë‚Œ)
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(8.0), // ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ
      ),

      action: SnackBarAction(
        label: 'í´ë¦­', // ë²„íŠ¼ í…ìŠ¤íŠ¸
        textColor: Colors.yellow, // í…ìŠ¤íŠ¸ ìƒ‰ìƒ

        onPressed: () {
          // í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬: ì˜ˆë¥¼ ë“¤ì–´ ë¡œê·¸ ì¶œë ¥
          print('SnackBarì˜ í´ë¦­ ì•¡ì…˜ ì‹¤í–‰ë¨');
        },
      ),
    );

    // ScaffoldMessengerë¥¼ í†µí•´ í˜„ì¬ contextì— SnackBar í‘œì‹œ
    ScaffoldMessenger.of(context).showSnackBar(snackBar);
  }

  ////////////////////////////////////////////

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      //ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ ë””ë²„ê·¸ í™”ë©´ì„ ì œê±°
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        // ì´ ìœ„ì¹˜ì— í”Œë¡œíŒ… ì•¡ì…˜ ë²„íŠ¼ì„ ìœ„ì¹˜ í•˜ê¸°.
        floatingActionButton: FloatingActionButton(
          onPressed: () {
            // ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰í•  ì½”ë“œ
          },
          child: Icon(Icons.add),
          // ë²„íŠ¼ ë‚´ë¶€ ì•„ì´ì½˜
          backgroundColor: Colors.blue,
          // ë°°ê²½ìƒ‰
          tooltip: 'ì¶”ê°€',
          // íˆ´íŒ í…ìŠ¤íŠ¸ (ê¸¸ê²Œ ëˆ„ë¥¼ ë•Œ í‘œì‹œ)
          elevation: 6.0, // ê·¸ë¦¼ì ê¹Šì´
        ),
        // floatingActionButtonLocation: FloatingActionButtonLocation.centerTop,
        body: ListView(
          children: [
            Builder(
              builder: (context) {
                return Wrap(
                  alignment: WrapAlignment.center,
                  children: [
                    OutlinedButton(
                      // í´ë¦­ ì‹œ ì‹¤í–‰í•  í•¨ìˆ˜
                      onPressed: () => _showSnackBar(context),
                      // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì§€ì •
                      style: OutlinedButton.styleFrom(
                        foregroundColor: Colors.red,
                      ),
                      // ë²„íŠ¼ì— ë„£ì„ ìœ„ì ¯
                      child: Text('ì•„ì›ƒë¼ì¸ë“œ ë²„íŠ¼'),
                    ),
                  ],
                );
              },
            ),
            Builder(
              builder: (context) {
                return Wrap(
                  alignment: WrapAlignment.center,
                  children: [
                    ElevatedButton(
                      // í´ë¦­ ì‹œ ì‹¤í–‰í•  í•¨ìˆ˜
                      onPressed: () => _showSnackBar(context),
                      // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì§€ì •
                      style: ElevatedButton.styleFrom(
                        backgroundColor: Colors.red,
                      ),
                      // ë²„íŠ¼ì— ë„£ì„ ìœ„ì ¯
                      child: Text('ì—˜ë¦¬ë² ì´í‹°ë“œ ë²„íŠ¼'),
                    ),
                  ],
                );
              },
            ),
            Wrap(
              alignment: WrapAlignment.center,
              children: [
                IconButton(
                  onPressed: () {},
                  icon: Icon(
                    // â‘  í”ŒëŸ¬í„°ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì•„ì´ì½˜ì…ë‹ˆë‹¤.
                    // ì œê³µë˜ëŠ” ì•„ì´ì½˜ ëª©ë¡ì€ ë‹¤ìŒ ë§í¬ì—ì„œ í™•ì¸í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    // https://fonts.google.com/icons
                    Icons.home,
                  ),
                ),
              ],
            ),
            Wrap(
              alignment: WrapAlignment.center,
              children: [
                GestureDetector(
                  // í•œ ë²ˆ íƒ­í–ˆì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
                  // onTap: () {
                  //   // ì¶œë ¥ ê²°ê³¼ëŠ” ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ì˜ [Run] íƒ­ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                  //   print('on tap');
                  // },
                  // // ë‘ ë²ˆ íƒ­í–ˆì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
                  // onDoubleTap: () {
                  //   print('on double tap');
                  // },
                  // // ê¸¸ê²Œ ëˆŒë €ì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
                  // onLongPress: () {
                  //   print('on long press');
                  // },
                  onPanStart: (details) {
                    print('on onPanStart start');
                  },
                  onPanUpdate: (details) {
                    print('onPanUpdate ');
                  },
                  onPanEnd: (details) {
                    print('onPanEnd ');
                  },
                  // ì œìŠ¤ì²˜ë¥¼ ì ìš©í•  ìœ„ì ¯
                  child: Container(
                    decoration: BoxDecoration(color: Colors.red),
                    width: 100.0,
                    height: 100.0,
                  ),
                ),
              ],
            ),
            Wrap(
              alignment: WrapAlignment.center,
              children: [
                Container(
                  // ìŠ¤íƒ€ì¼ ì ìš©
                  decoration: BoxDecoration(
                    // ë°°ê²½ìƒ‰ ì ìš©
                    color: Colors.red,
                    // í…Œë‘ë¦¬ ì ìš©
                    border: Border.all(
                      // í…Œë‘ë¦¬ êµµê¸°
                      width: 16.0,
                      // í…Œë‘ë¦¬ ìƒ‰ìƒ
                      color: Colors.black,
                    ),
                    // ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ ë§Œë“¤ê¸°
                    borderRadius: BorderRadius.circular(16.0),
                  ),
                  // ë†’ì´
                  height: 200.0,
                  // ë„ˆë¹„
                  width: 100.0,
                ),
              ],
            ),
            SizedBox(height: 16),

            Wrap(
              alignment: WrapAlignment.center,
              children: [
                SizedBox(
                  // ë†’ì´ ì§€ì •
                  height: 200.0,
                  // ë„ˆë¹„ ì§€ì •
                  width: 200.0,
                  // SizedBoxëŠ” ìƒ‰ìƒì´ ì—†ìœ¼ë¯€ë¡œ í¬ê¸°ë¥¼ í™•ì¸í•˜ëŠ”
                  // ìš©ë„ë¡œ Container ì¶”ê°€
                  child: Container(color: Colors.red),
                ),
              ],
            ),
            SizedBox(height: 16),
            Wrap(
              alignment: WrapAlignment.center,
              children: [
                Container(
                  color: Colors.blue,
                  child: Padding(
                    // ìƒí•˜, ì¢Œìš°ë¡œ ëª¨ë‘ 16í”½ì…€ë§Œí¼ íŒ¨ë”© ì ìš©
                    padding: EdgeInsets.all(16.0),
                    child: Container(
                      color: Colors.red,
                      width: 50.0,
                      height: 50.0,
                    ),
                  ),
                ),
              ],
            ),
            SizedBox(height: 16),
            Wrap(
              alignment: WrapAlignment.center,
              children: [
                Container(
                  color: Colors.black, // â‘¢ ìµœìƒìœ„ ê²€ì • ì»¨í…Œì´ë„ˆ (marginì´ ì ìš©ë˜ëŠ” ëŒ€ìƒ)
                  child: Container(
                    color: Colors.blue, // â‘¡ ì¤‘ê°„ íŒŒë€ ì»¨í…Œì´ë„ˆ
                    // ë§ˆì§„ ì ìš© ìœ„ì¹˜
                    margin: EdgeInsets.all(16.0),

                    // íŒ¨ë”© ì ìš©
                    child: Padding(
                      padding: EdgeInsets.all(16.0),

                      // â‘  íŒ¨ë”©ì´ ì ìš©ëœ ë¹¨ê°„ ì»¨í…Œì´ë„ˆ
                      child: Container(
                        color: Colors.red,
                        width: 50.0,
                        height: 50.0,
                      ),
                    ),
                  ),
                ),
              ],
            ),
            SizedBox(height: 16),
            Row(
              // ì£¼ì¶• ì •ë ¬ ì§€ì •
              mainAxisAlignment: MainAxisAlignment.spaceEvenly,
              // ë°˜ëŒ€ì¶• ì •ë ¬ ì§€ì •
              crossAxisAlignment: CrossAxisAlignment.center,
              // ë„£ê³  ì‹¶ì€ ìœ„ì ¯ ì…ë ¥
              children: [
                Container(height: 50.0, width: 50.0, color: Colors.red),
                // SizedBoxëŠ” ì¼ë°˜ì ìœ¼ë¡œ ê³µë°±ì„ ìƒì„±í•  ë•Œ ì‚¬ìš©
                SizedBox(width: 12.0),
                Container(height: 50.0, width: 50.0, color: Colors.green),
                SizedBox(width: 12.0),
                Container(height: 50.0, width: 50.0, color: Colors.blue),
              ],
            ),
            SizedBox(height: 16),
            Column(
              // ì£¼ì¶• ì •ë ¬ ì§€ì •
              mainAxisAlignment: MainAxisAlignment.start,
              // ë°˜ëŒ€ì¶• ì •ë ¬ ì§€ì •
              crossAxisAlignment: CrossAxisAlignment.stretch,
              // ë„£ê³  ì‹¶ì€ ìœ„ì ¯ ì…ë ¥
              children: [
                Container(height: 50.0, width: 50.0, color: Colors.red),
                // SizedBoxëŠ” ì¼ë°˜ì ìœ¼ë¡œ ê³µë°±ì„ ìƒì„±í•  ë•Œ ì‚¬ìš©
                SizedBox(height: 12.0), // ê³µë°± ì¶”ê°€ (Columnì´ë¯€ë¡œ height ì‚¬ìš©)
                Container(height: 50.0, width: 50.0, color: Colors.green),
                SizedBox(height: 12.0), // ê³µë°± ì¶”ê°€
                Container(height: 50.0, width: 50.0, color: Colors.blue),
              ],
            ),
            SizedBox(height: 30),
            // ì¤‘ì²© ë¦¬ìŠ¤íŠ¸ ë·°
            // ê°€ë¡œ ë°©í–¥ìœ¼ë¡œ ìŠ¤í¬ë¡¤ì´ ë˜ëŠ” ìœ„ì ¯
            SizedBox(
              height: 200,
              child: ListView.builder(
                scrollDirection: Axis.horizontal,
                itemCount: 5,
                itemBuilder: (context, hIndex) {
                  return Container(
                    width: 200,
                    margin: EdgeInsets.all(16),
                    color: Colors.blueAccent,
                    alignment: Alignment.center,
                    child: Text('ê°€ë¡œ $hIndex'),
                  );
                },
              ),
            ),
            SizedBox(height: 30),
            // ì¤‘ì²© ë¦¬ìŠ¤íŠ¸ ë·°
            // ê°€ë¡œ ë°©í–¥ìœ¼ë¡œ ìŠ¤í¬ë¡¤ì´ ë˜ëŠ” ìœ„ì ¯
            SizedBox(
              height: 200,
              child: ListView.builder(
                scrollDirection: Axis.horizontal,
                itemCount: 5,
                itemBuilder: (context, hIndex) {
                  return Container(
                    width: 200,
                    margin: EdgeInsets.all(16),
                    color: Colors.redAccent,
                    alignment: Alignment.center,
                    child: Text('ê°€ë¡œ $hIndex'),
                  );
                },
              ),
            ),
          ],
        ),
      ),
    );
  }
}


